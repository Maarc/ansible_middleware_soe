---

- name: (00) Install Java and basic RPM dependencies
  become: true
  yum: name={{ item }} state=present
  with_items:
   - unzip
   - "{{ eap_java_pkg_name }}"
   - rsync
   - net-tools

# Set in the DEV environment during the first setup
- name: (00) DEV - Copy .bashrc
  when: env == "dev"
  template:
    src: .bashrc.j2
    dest: "/home/{{ user }}/.bashrc"
    owner: "{{ user }}"
    group: "{{ group }}"
  register: bashrc_uploaded

# Set in the DEV environment during the first setup
- name: (00) DEV - Set server timezone
  become: true
  when: bashrc_uploaded.changed == True and env == "dev"
  shell: "timedatectl set-timezone {{ timezone }}"
